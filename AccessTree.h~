#ifndef HEAD_ACCESSTREE
#define HEAD_ACCESSTREE
#include "tate.h"
#include "function.h"
#include "AtrPathLCM.h"
#include "Node.h"
#include "Polynomial.h"

class AccessTree
{
	private:
		string accessTreeStr;
	public :
		AccessTree(string accessTreeStr);
		bool SatisfyAceessTree(char **ua,TiXmlElement *element,deque<Node> *pNodeQue);
		bool IsSatisfied(char **ua,deque<Node> *pNodeQue);
		vector<AtrPathLCM> *GetAtrPathLCM(char **ua);
      	void GetPartyIndexs(stack<Node> *ps,vector<int> * pv,int threshold);
		void UpdateAtrPathLCM(vector<int> *partyIndex,int track,vector<AtrPathLCM> *atrPathLCM,stack<Node> * ps,int threshold,BIGNUM *p);
};

#endif
